@page "/register"

<h1>Register</h1>

<EditForm Model="userModel" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />

    
    <div class="containter d-flex gap-4">
        <div class="form-container">
            <div class="form-group mb-3">
                <label for="username">User name</label>
                <input type="text" id="username" class="form-control" @bind="userModel.UserName">
                <ValidationMessage For="@(() => userModel.UserName)" />
            </div>
            <div class="form-group mb-3">
                <label for="password">Password</label>
                <input type="password" id="password" class="form-control" @bind="userModel.Password">
                <ValidationMessage For="@(() => userModel.Password)" />
            </div>
            <div class="form-group mb-3">
                <label for="fullname">Full name</label>
                <input type="text" id="fullname" class="form-control" @bind="userModel.FullName">
            </div>
            <div class="form-group mb-3">
                <p>Gender:</p>
                <div class="form-check">
                    <input 
                    type="radio" 
                    id="male" 
                    class="form-check-input"
                    name="gender"
                    value="Male"
                    @onchange="HandleChange"
                    checked="@userModel.Gender == 'Male'"
                    >
                    <label class="form-check-label" for="male">Male</label>
                </div>
                <div class="form-check">
                    <input 
                    type="radio" 
                    id="female" 
                    class="form-check-input"
                    name="gender"
                    value="Female"
                    @onchange="HandleChange"
                    checked="@userModel.Gender == 'Female'"
                    >
                    <label class="form-check-label" for="female">Female</label>
                </div>
                
                
            </div>
            <div class="form-group mb-3">
                <label for="country">Country</label>
                <input type="text" id="country" class="form-control" @bind="userModel.Country">
            </div>

            <div class="form-group mb-3">
                <label for="phone">Phone number</label>
                <input type="text" id="phone" class="form-control" @bind="userModel.Phone">
                <ValidationMessage For="@(() => userModel.Phone)" />
            </div>
            <button class="btn btn-primary" type="submit">Register</button>
        </div>
        <div class="info-container">
                <h3>User information</h3>
                <p><strong>Username:</strong> @userModel.UserName</p>
                <p><strong>Password:</strong> @userModel.Password</p>
                <p><strong>Fullname:</strong> @userModel.FullName</p>
                <p><strong>Gender:</strong> @userModel.Gender</p>
                <p><strong>Country:</strong> @userModel.Country</p>
            </div>
    </div>
</EditForm>


@code {
    private UserModel userModel = new UserModel();
    private void HandleChange(ChangeEventArgs e) 
    {
        userModel.Gender = e.Value?.ToString() ?? "Male";
    }

    private void HandleValidSubmit() 
    {
        Console.WriteLine("Register Success");
        Console.WriteLine($"Username {userModel.UserName}");
    }
}